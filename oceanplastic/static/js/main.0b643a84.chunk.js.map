{"version":3,"sources":["assets/data.js","components/Graph.js","components/GraphZoom.js","components/Controller.js","components/AppContainer.js","App.js","serviceWorker.js","index.js"],"names":["data","year","waste_total","waste_mismanadged_%","waste_mismanadged","dataZoomed","date","Graph","state","width","height","initGraph","_this$state","_this","svg","d3","append","attr","props","id","margin","top","right","bottom","left","mainGroup","relativeWidth","relativeHeight","totalData","JSON","parse","stringify","map","value","untilNowData","pop","forEach","i","forecastData","x","domain","d","offset","length","range","call","tickSize","ticks","yTicks","push","console","log","y","tickValues","tickFormat","Math","round","transition","duration","ease","linesGroup","gridGroup","gridXGroup","gridYGroup","datum","curve","setState","drawHistoryPoints","pointsGroup","firstPointGroup","delay","text","style","crisisPointGroup","forecastPointGroup","splitLines","forecastPathClone","select","clone","currentBindedData","react_default","a","createElement","Fragment","className","document","getElementById","clientWidth","clientHeight","this","nextProps","showZoomedGraph","marginTop","Component","GraphZoom","newData","on","bind","Object","assertThisInitialized","val","subtractedValue","pathClone","value2","area","y0","y1","remove","secondPointGroup","subtractMore","index","clickedFriend","position","opacity","clickedFnf","Controller","classCallCheck","possibleConstructorReturn","getPrototypeOf","reuseStatus","friendStatus","fnfStatus","handleClickReuse","handleClickFriend","handleClickFnf","_this2","setTimeout","handleClick","_this3","onClick","React","AppContainer","type","components_Controller","components_Graph","components_GraphZoom","window","open","href","title","target","App","components_AppContainer","Boolean","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0b643a84.chunk.js","sourcesContent":["export const data = [\n    {\n      \"year\": 1980,\n      \"waste_total\": 70000000,\n      \"waste_mismanadged_%\": \"100,00\",\n      \"waste_mismanadged\": 70000000\n    },\n    {\n      \"year\": 1981,\n      \"waste_total\": 72000000,\n      \"waste_mismanadged_%\": \"98,30\",\n      \"waste_mismanadged\": 70776000\n    },\n    {\n      \"year\": 1982,\n      \"waste_total\": 73000000,\n      \"waste_mismanadged_%\": \"97,60\",\n      \"waste_mismanadged\": 71248000\n    },\n    {\n      \"year\": 1983,\n      \"waste_total\": 80000000,\n      \"waste_mismanadged_%\": \"96,90\",\n      \"waste_mismanadged\": 77520000\n    },\n    {\n      \"year\": 1984,\n      \"waste_total\": 86000000,\n      \"waste_mismanadged_%\": \"96,20\",\n      \"waste_mismanadged\": 82732000\n    },\n    {\n      \"year\": 1985,\n      \"waste_total\": 90000000,\n      \"waste_mismanadged_%\": \"95,50\",\n      \"waste_mismanadged\": 85950000\n    },\n    {\n      \"year\": 1986,\n      \"waste_total\": 96000000,\n      \"waste_mismanadged_%\": \"94,80\",\n      \"waste_mismanadged\": 91008000\n    },\n    {\n      \"year\": 1987,\n      \"waste_total\": 104000000,\n      \"waste_mismanadged_%\": \"94,10\",\n      \"waste_mismanadged\": 97864000\n    },\n    {\n      \"year\": 1988,\n      \"waste_total\": 110000000,\n      \"waste_mismanadged_%\": \"92,80\",\n      \"waste_mismanadged\": 102080000\n    },\n    {\n      \"year\": 1989,\n      \"waste_total\": 114000000,\n      \"waste_mismanadged_%\": \"91,40\",\n      \"waste_mismanadged\": 104196000\n    },\n    {\n      \"year\": 1990,\n      \"waste_total\": 120000000,\n      \"waste_mismanadged_%\": \"90,00\",\n      \"waste_mismanadged\": 108000000\n    },\n    {\n      \"year\": 1991,\n      \"waste_total\": 124000000,\n      \"waste_mismanadged_%\": \"88,60\",\n      \"waste_mismanadged\": 109864000\n    },\n    {\n      \"year\": 1992,\n      \"waste_total\": 132000000,\n      \"waste_mismanadged_%\": \"87,20\",\n      \"waste_mismanadged\": 115104000\n    },\n    {\n      \"year\": 1993,\n      \"waste_total\": 137000000,\n      \"waste_mismanadged_%\": \"85,80\",\n      \"waste_mismanadged\": 117546000\n    },\n    {\n      \"year\": 1994,\n      \"waste_total\": 151000000,\n      \"waste_mismanadged_%\": \"84,40\",\n      \"waste_mismanadged\": 127444000\n    },\n    {\n      \"year\": 1995,\n      \"waste_total\": 156000000,\n      \"waste_mismanadged_%\": \"83,00\",\n      \"waste_mismanadged\": 129480000\n    },\n    {\n      \"year\": 1996,\n      \"waste_total\": 168000000,\n      \"waste_mismanadged_%\": \"81,60\",\n      \"waste_mismanadged\": 137088000\n    },\n    {\n      \"year\": 1997,\n      \"waste_total\": 180000000,\n      \"waste_mismanadged_%\": \"80,20\",\n      \"waste_mismanadged\": 144360000\n    },\n    {\n      \"year\": 1998,\n      \"waste_total\": 188000000,\n      \"waste_mismanadged_%\": \"78,80\",\n      \"waste_mismanadged\": 148144000\n    },\n    {\n      \"year\": 1999,\n      \"waste_total\": 202000000,\n      \"waste_mismanadged_%\": \"77,40\",\n      \"waste_mismanadged\": 156348000\n    },\n    {\n      \"year\": 2000,\n      \"waste_total\": 213000000,\n      \"waste_mismanadged_%\": \"76,00\",\n      \"waste_mismanadged\": 161880000\n    },\n    {\n      \"year\": 2001,\n      \"waste_total\": 218000000,\n      \"waste_mismanadged_%\": \"74,60\",\n      \"waste_mismanadged\": 162628000\n    },\n    {\n      \"year\": 2002,\n      \"waste_total\": 231000000,\n      \"waste_mismanadged_%\": \"73,20\",\n      \"waste_mismanadged\": 169092000\n    },\n    {\n      \"year\": 2003,\n      \"waste_total\": 241000000,\n      \"waste_mismanadged_%\": \"71,80\",\n      \"waste_mismanadged\": 173038000\n    },\n    {\n      \"year\": 2004,\n      \"waste_total\": 256000000,\n      \"waste_mismanadged_%\": \"70,40\",\n      \"waste_mismanadged\": 180224000\n    },\n    {\n      \"year\": 2005,\n      \"waste_total\": 263000000,\n      \"waste_mismanadged_%\": \"69,00\",\n      \"waste_mismanadged\": 181470000\n    },\n    {\n      \"year\": 2006,\n      \"waste_total\": 280000000,\n      \"waste_mismanadged_%\": \"67,60\",\n      \"waste_mismanadged\": 189280000\n    },\n    {\n      \"year\": 2007,\n      \"waste_total\": 295000000,\n      \"waste_mismanadged_%\": \"66,20\",\n      \"waste_mismanadged\": 195290000\n    },\n    {\n      \"year\": 2008,\n      \"waste_total\": 281000000,\n      \"waste_mismanadged_%\": \"64,80\",\n      \"waste_mismanadged\": 182088000\n    },\n    {\n      \"year\": 2009,\n      \"waste_total\": 288000000,\n      \"waste_mismanadged_%\": \"63,40\",\n      \"waste_mismanadged\": 182592000\n    },\n    {\n      \"year\": 2010,\n      \"waste_total\": 313000000,\n      \"waste_mismanadged_%\": \"62,00\",\n      \"waste_mismanadged\": 194060000\n    },\n    {\n      \"year\": 2011,\n      \"waste_total\": 325000000,\n      \"waste_mismanadged_%\": \"60,60\",\n      \"waste_mismanadged\": 196950000\n    },\n    {\n      \"year\": 2012,\n      \"waste_total\": 338000000,\n      \"waste_mismanadged_%\": \"59,20\",\n      \"waste_mismanadged\": 200096000\n    },\n    {\n      \"year\": 2013,\n      \"waste_total\": 352000000,\n      \"waste_mismanadged_%\": \"57,80\",\n      \"waste_mismanadged\": 203456000\n    },\n    {\n      \"year\": 2014,\n      \"waste_total\": 367000000,\n      \"waste_mismanadged_%\": \"56,40\",\n      \"waste_mismanadged\": 206988000\n    },\n    {\n      \"year\": 2015,\n      \"waste_total\": 381000000,\n      \"waste_mismanadged_%\": \"55,00\",\n      \"waste_mismanadged\": 209550000\n    },\n    {\n      \"year\": 2025,\n      \"waste_total\": \"\",\n      \"waste_mismanadged_%\": \"\",\n      \"waste_mismanadged\": 235170000\n    }\n  ]\n\n  export const dataZoomed = [\n    {\n      \"date\": '2024-12-31',\n      \"waste_mismanadged\": 235170000\n    },\n    {\n      \"date\": '2025-01-01',\n      \"waste_mismanadged\": 235170000\n    }\n  ]","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { data } from '../assets/data.js';\n\nclass Graph extends Component {\n\n    state = {\n        width: 0,\n        height: 0,\n    }\n\n    render() {\n\n        return (\n            <React.Fragment>\n                                {/* <button onClick={this.splitLines}>Zoom in</button> */}\n                <div className=\"graph-container\" id=\"basic-chart\" style={{ width: '60vw', height: '48vh' }}>\n                    <div className=\"graph-title\">Every year mismanaged plastic waste that may end up in the ocean (in millions of tons)</div>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    componentDidMount() {\n        const width = document.getElementById('basic-chart').clientWidth;\n        const height = document.getElementById('basic-chart').clientHeight;\n        this.setState({ width: width, height: height }, this.initGraph)\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.showZoomedGraph) {\n            document.getElementById('basic-chart').style.marginTop = '0px';\n            this.state.mainGroup.append('rect').attr('fill', 'rgb(182, 182, 2)').attr('width', 0).attr('height', '0.7px').attr('x', this.relativeWidth(100 - this.state.margin.right) - 3).attr('y', this.state.y(this.state.data[this.state.data.length - 1].value)).transition().duration(200).attr('width', this.relativeWidth(this.state.margin.right) - 1)\n\n            this.state.mainGroup.append('rect').attr('fill', 'rgb(182, 182, 2)').attr('width', '0.7px').attr('height', 0).attr('x', this.relativeWidth(100) - 4).attr('y', this.state.y(this.state.data[this.state.data.length - 1].value)).transition().duration(500).delay(200).attr('height', this.relativeHeight(100));\n        }\n    }\n\n    initGraph = () => {\n        const { width, height } = this.state;\n\n        const svg = d3.select('#basic-chart')\n            .append('svg').attr('id', 'main-svg-' + this.props.id)\n            //  The viewbox will try to fill all the space given but preserving the ratio.\n            //  h = div height, w = div width\n            //  if h > w viewbox = 0 0 100 100*h/w\n            //  if w > h viewbox = 0 0 100*w/h 100\n            .attr('viewBox', () => {\n                return width < height ? '0 0 100 ' + (100 * height / width) : '0 0 ' + (100 * width / height) + ' 100';\n            })\n            .attr('class', 'svg-content');\n\n        const margin = { top: 5, right: 5, bottom: 10, left: 10 };\n\n        const mainGroup = svg.append('g')\n            .attr('class', 'main-group')\n            .attr('transform', 'translate(' + this.relativeWidth(0) + ', ' + this.relativeHeight(0) + ')');\n\n        let totalData = JSON.parse(JSON.stringify(data));\n        totalData.map(year => {\n            year.date = year.year + '-01-01';\n            year.value = year.waste_mismanadged;\n            return year;\n        });\n\n        //  Dataset until now with valid dates\n        const untilNowData = JSON.parse(JSON.stringify(totalData));\n        untilNowData.pop();\n        untilNowData.forEach((year, i) => untilNowData[i].date = d3.timeParse(\"%Y-%m-%d\")(year.date));\n\n        //  Dataset until the forecast with valid dates\n        const forecastData = JSON.parse(JSON.stringify(totalData));\n        forecastData.forEach((year, i) => forecastData[i].date = d3.timeParse(\"%Y-%m-%d\")(year.date));\n\n\n        //  Time scale\n        const x = d3.scaleTime()\n            .domain(d3.extent(forecastData, function (d, i) { return i === 0 ? d3.timeYear.offset(d.date, -1) : i === forecastData.length - 1 ? d3.timeYear.offset(d.date, 1) : d.date; }))\n            .range([this.relativeWidth(margin.left), this.relativeWidth(100 - margin.right)]);\n\n        mainGroup.append(\"g\")\n            .attr('class', 'graph-axis graph-axis-x')\n            .attr(\"transform\", 'translate(0,' + this.relativeHeight(100 - margin.bottom) + ')')\n            .call(d3.axisBottom(x).tickSize(0).ticks(10, d3.timeFormat(\"%Y\")));\n\n        let yTicks = [];\n        for (let i = 0; i < 6 ; i++) {\n            yTicks.push(i * 50000000);\n        }\n\n        console.log(yTicks)\n        //  y scale\n        const y = d3.scaleLinear()\n            .domain([0, d3.max(forecastData, function (d) { return d.value; }) + 10000000])\n            .range([this.relativeHeight(100 - margin.bottom), this.relativeHeight(margin.top)]);\n\n\n        mainGroup.append(\"g\")\n            .attr('class', 'graph-axis graph-axis-y')\n            .attr(\"transform\", 'translate(' + this.relativeWidth(margin.left) + ',0)')\n            .call(d3.axisLeft(y).tickSize(0).tickValues(yTicks).tickFormat(d => Math.round(d / 1000000)));\n\n        //  clip path graph\n        mainGroup.append('clipPath')\n            .attr('id', 'main-clip-path')\n            .append('rect')\n            .attr('x', this.relativeWidth(margin.left) + 0.5)\n            .attr('y', this.relativeHeight(margin.top) + 0.5)\n            .attr('width', 0)\n            .attr('height', this.relativeHeight(100) - this.relativeHeight(margin.bottom) - this.relativeHeight(margin.top)).transition().duration(10000).ease(d3.easeLinear)\n            .attr('width', this.relativeWidth(100) - this.relativeWidth(margin.left) - this.relativeWidth(margin.right));\n\n        //  grid clip path graph\n            mainGroup.append('clipPath')\n            .attr('id', 'grid-clip-path')\n            .append('rect')\n            .attr('x', this.relativeWidth(margin.left) + 0.5)\n            .attr('y', this.relativeHeight(margin.top) + 0.5)\n            .attr('height', this.relativeHeight(100) - this.relativeHeight(margin.bottom) - this.relativeHeight(margin.top))\n            .attr('width', this.relativeWidth(100) - this.relativeWidth(margin.left) - this.relativeWidth(margin.right));\n\n        //  clip path forecast\n        mainGroup.append('clipPath')\n            .attr('id', 'forecast-clip-path')\n            .append('rect')\n            .attr('x', 0.5 + x(d3.timeParse(\"%Y-%m-%d\")(untilNowData[untilNowData.length - 1].date)))\n            .attr('y', this.relativeHeight(margin.top) + 0.5)\n            .attr('width', 0.5 + x(forecastData[forecastData.length - 1].date) - x(d3.timeParse(\"%Y-%m-%d\")(untilNowData[untilNowData.length - 1].date)))\n            .attr('height', this.relativeHeight(100) - this.relativeHeight(margin.bottom) - this.relativeHeight(margin.top));\n\n        const linesGroup = mainGroup.append('g')\n            .attr('clip-path', 'url(#main-clip-path)');\n\n        const gridGroup = mainGroup.append('g').attr('class', 'grid-lines').attr('clip-path', 'url(#grid-clip-path');\n        const gridXGroup = gridGroup.append('g').attr('class', 'grid-x-lines');\n        const gridYGroup = gridGroup.append('g').attr('class', 'grid-y-lines');\n        // gridlines in x axis function\n        function make_x_gridlines() {\n            return d3.axisBottom(x)\n                .ticks(10)\n        }\n        function make_y_gridlines() {\n            return d3.axisLeft(y)\n            .tickValues(yTicks)\n        }\n\n        gridXGroup.attr('transform', 'translate(0, ' + height + ')').call(make_x_gridlines()\n            .tickSize(-height)\n            .tickFormat(\"\")\n        )\n\n        gridYGroup.call(make_y_gridlines()\n            .tickSize(-width)\n            .tickFormat(\"\")\n        )\n\n        //  dash line forecast\n        const forecastPath = linesGroup.append(\"path\").datum(forecastData)\n            .attr(\"fill\", \"none\")\n            .attr('class', 'forecast-path')\n            .attr(\"stroke\", \"white\")\n            .attr(\"stroke-width\", '0.4px')\n            .attr('clip-path', 'url(#forecast-clip-path)')\n            .attr(\"stroke-dasharray\", '1, 1')\n            .attr(\"d\", d3.line().curve(d3.curveCardinal)\n                .x(d => x(d.date))\n                .y(function (d) { return y(d.value) })\n            );\n\n        //  line until now\n        linesGroup.append(\"path\").datum(untilNowData)\n            .attr(\"fill\", \"none\")\n            .attr('class', 'now-path')\n            .attr(\"stroke\", \"white\")\n            .attr(\"stroke-width\", '0.4px')\n            .attr(\"d\", d3.line().curve(d3.curveCardinal)\n                .x(d => x(d.date))\n                .y(function (d) { return y(d.value) })\n            );\n\n\n        this.setState({ data: totalData, mainGroup: mainGroup, linesGroup: linesGroup, margin: margin, y: y, x: x, svg: svg }, this.drawHistoryPoints);\n    }\n\n    //  Takes a % ang returns the right height\n    relativeHeight = (height) => {\n        return this.state.width < this.state.height ? height * this.state.height / this.state.width : height;\n    }\n\n    //  Takes a % ang returns the right width\n    relativeWidth = (width) => {\n        return this.state.width < this.state.height ? width : width * this.state.width / this.state.height;\n    }\n\n    drawHistoryPoints = () => {\n        const pointsGroup = this.state.mainGroup.append('g').attr('class', 'points-group');\n        const firstPointGroup = pointsGroup.append('g').attr('transform', 'translate(' + this.state.x(d3.timeParse(\"%Y-%m-%d\")(this.state.data[0].date)) + ', ' + this.state.y(this.state.data[0].value) + ')');\n\n        firstPointGroup.append('circle').attr('class','point-circle').attr('cx', 0).attr('cy', 0).attr('fill', 'black').attr('r', 0).transition().duration(500).delay(1000).attr('r', 1);\n        firstPointGroup.append('rect').attr('x', -0.2).attr('y', -2).attr('width', 0.4).attr('height', 0).attr('fill', 'white').transition().duration(500).delay(1500).attr('height', 18).attr('y', -20);\n        firstPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', -17).text('1980').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(2000).attr('opacity', 1).attr('x', 1);\n        firstPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', -13.5).text('Plastic starts').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(2500).attr('opacity', 1).attr('x', 1);\n        firstPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', -10.5).text('being recycled').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(2500).attr('opacity', 1).attr('x', 1);\n\n\n        const crisisPointGroup = pointsGroup.append('g').attr('transform', 'translate(' + this.state.x(d3.timeParse(\"%Y-%m-%d\")('2008-01-01')) + ', ' + this.state.y(182088000) + ')');\n\n        crisisPointGroup.append('circle').attr('class','point-circle').attr('cx', 0).attr('cy', 0).attr('fill', 'black').attr('r', 0).transition().duration(500).delay(7000).attr('r', 1);\n        crisisPointGroup.append('rect').attr('x', -0.2).attr('y', 2).attr('width', 0.4).attr('height', 0).attr('fill', 'white').transition().duration(500).delay(7500).attr('height', 18)\n        crisisPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', 19.5).text('2008').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(8000).attr('opacity', 1).attr('x', 1);\n        crisisPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', 16).text('Economic crisis').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(8500).attr('opacity', 1).attr('x', 1);\n\n\n        const forecastPointGroup = pointsGroup.append('g').attr('transform', 'translate(' + this.state.x(d3.timeParse(\"%Y-%m-%d\")('2025-01-01')) + ', ' + this.state.y(235170000) + ')');\n\n        forecastPointGroup.append('circle').attr('class','point-circle').attr('cx', 0).attr('cy', 0).attr('fill', 'black').attr('r', 0).transition().duration(500).delay(10000).attr('r', 1);\n        forecastPointGroup.append('rect').attr('x', -0.2).attr('y', 2).attr('width', 0.4).attr('height', 0).attr('fill', 'white').transition().duration(500).delay(10500).attr('height', 18)\n        forecastPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', 19.5).text('2025').attr('text-anchor', 'end').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(11000).attr('opacity', 1).attr('x', -1);\n        forecastPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', 16).text('Forecast').attr('text-anchor', 'end').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(11500).attr('opacity', 1).attr('x', -1);\n    }\n\n    splitLines = () => {\n        const forecastPathClone = this.state.mainGroup.select('.forecast-path').clone();\n        let currentBindedData = forecastPathClone.datum();\n        let newForecast = { date: d3.timeParse(\"%Y-%m-%d\")('2025-01-01'), value: 2499.5 };\n        currentBindedData[currentBindedData.length - 1].value -= 11.5;\n        console.log(currentBindedData)\n        forecastPathClone.datum(currentBindedData).transition().duration(1000)\n            .attr('d', d3.line().curve(d3.curveMonotoneY)\n                .x(d => this.state.x(d.date))\n                .y(d => this.state.y(d.value))\n            );\n\n        // this.state.mainGroup.select('.forecast-path').transition().duration(1000)\n        //     .style('stroke', 'lightgrey')\n\n        // var area = d3.area().curve(d3.curveMonotoneY)\n        //     .x(d => newX(d.date))\n        //     .y0(d => newY(d.value))\n        //     .y1(d => newY(d.value2));\n\n        // this.state.linesGroup.append('path')\n        //     .datum(currentBindedData)\n        //     .style('fill', 'green')\n        //     .style('fill-opacity', 0)\n        //     .style('stroke', 'none')\n        //     .attr('class', 'area')\n        //     .attr('d', area)\n        //     .transition().duration(1000).delay(1000)\n        //     .style('fill-opacity', 0.05);\n    }\n\n\n}\n\nexport default Graph;\n","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { data, dataZoomed } from '../assets/data.js';\n\nclass GraphZoom extends Component {\n\n    state = {\n        width: 0,\n        height: 0,\n    }\n\n    render() {\n\n        return (\n            <React.Fragment>\n                <div className=\"graph-container\" id=\"zoomed-chart\" style={{ width: '60vw', height: '48vh' }}>\n                    <div className=\"graph-title-zoomed\">See your zoomed in impact</div>\n                </div>\n                {/* <button onClick={this.splitLines.bind(this, 0.001)}>Split Lines</button>\n                <button onClick={this.subtractMore.bind(this, 0.01)}>Subtract More</button> */}\n            </React.Fragment>\n        );\n    }\n\n    componentDidMount() {\n        const width = document.getElementById('zoomed-chart').clientWidth;\n        const height = document.getElementById('zoomed-chart').clientHeight;\n        this.setState({ width: width, height: height }, this.initGraph)\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.showZoomedGraph && !nextProps.clickedFriend) {\n            console.log(nextProps)\n            // document.getElementsByClassName('zoomed-graph').display = 'block';\n            // document.getElementsById('zoomed-graph').display = 'block';\n            document.getElementById('zoomed-chart').style.position = 'relative';\n            document.getElementById('zoomed-chart').style.marginTop = '-1px';\n            document.getElementById('zoomed-chart').style.opacity = '1';\n\n            d3.select('#main-clip-path-small-rect').transition().duration(1000).ease(d3.easeLinear).delay(1000)\n            .attr('width', this.relativeWidth(100) - this.relativeWidth(this.state.margin.left) - this.relativeWidth(this.state.margin.right));\n\n            this.drawHistoryPoints();\n        }\n\n        if (nextProps.clickedFriend && !nextProps.clickedFnf) {\n            this.subtractMore(0.115, 1);\n        }\n\n        if (nextProps.clickedFnf) {\n            this.subtractMore(11.5, 2)\n        }\n    }\n\n    initGraph = () => {\n        const { width, height } = this.state;\n\n        const svg = d3.select('#zoomed-chart')\n            .append('svg').attr('id', 'main-svg-' + this.props.id)\n            //  The viewbox will try to fill all the space given but preserving the ratio.\n            //  h = div height, w = div width\n            //  if h > w viewbox = 0 0 100 100*h/w\n            //  if w > h viewbox = 0 0 100*w/h 100\n            .attr('viewBox', () => {\n                return width < height ? '0 0 100 ' + (100 * height / width) : '0 0 ' + (100 * width / height) + ' 100';\n            })\n            .attr('class', 'svg-content');\n\n        const margin = { top: 5, right: 5, bottom: 10, left: 15 };\n\n        const mainGroup = svg.append('g')\n            .attr('class', 'main-group')\n            .attr('transform', 'translate(' + this.relativeWidth(0) + ', ' + this.relativeHeight(0) + ')');\n\n        let totalData = JSON.parse(JSON.stringify(dataZoomed));\n        totalData.map(date => {\n            date.value = date.waste_mismanadged;\n            return date;\n        });\n        console.log(totalData)\n        //  Dataset until now with valid dates\n        const newData = JSON.parse(JSON.stringify(totalData));\n        newData.forEach((year, i) => newData[i].date = d3.timeParse(\"%Y-%m-%d\")(year.date));\n        console.log(newData)\n\n        //  Time scale\n        const x = d3.scaleTime()\n            .domain(d3.extent(newData, function (d, i) { return i === newData.length - 1 ? d3.timeHour.offset(d.date, 6) : d.date; }))\n            .range([this.relativeWidth(margin.left), this.relativeWidth(100 - margin.right)]);\n\n        mainGroup.append(\"g\")\n            .attr('class', 'graph-axis graph-axis-x')\n            .attr(\"transform\", 'translate(0,' + this.relativeHeight(100 - margin.bottom) + ')')\n            .call(d3.axisBottom(x).tickSize(0).ticks(1, d3.timeFormat(\"%b %d %Y\")));\n\n        //  y scale\n        const y = d3.scaleLinear()\n            .domain([235169999.90, 235170000.1])\n            .range([this.relativeHeight(100 - margin.bottom), this.relativeHeight(margin.top)]);\n\n\n        mainGroup.append(\"g\")\n            .attr('class', 'graph-axis graph-axis-y')\n            .attr(\"transform\", 'translate(' + this.relativeWidth(margin.left) + ',0)')\n            .call(d3.axisLeft(y).tickSize(0).ticks(3));\n\n        //  clip path graph\n        mainGroup.append('clipPath')\n            .attr('id', 'main-clip-path-small')\n            .append('rect').attr('id', 'main-clip-path-small-rect')\n            .attr('x', this.relativeWidth(margin.left) + 0.5)\n            .attr('y', this.relativeHeight(margin.top) + 0.5)\n            .attr('width', 0)\n            .attr('height', this.relativeHeight(100) - this.relativeHeight(margin.bottom) - this.relativeHeight(margin.top));\n\n        //  grid clip path graph\n            mainGroup.append('clipPath')\n            .attr('id', 'grid-clip-path')\n            .append('rect')\n            .attr('x', this.relativeWidth(margin.left) + 0.5)\n            .attr('y', this.relativeHeight(margin.top) + 0.5)\n            .attr('height', this.relativeHeight(100) - this.relativeHeight(margin.bottom) - this.relativeHeight(margin.top))\n            .attr('width', this.relativeWidth(100) - this.relativeWidth(margin.left) - this.relativeWidth(margin.right));\n\n        const linesGroup = mainGroup.append('g')\n            .attr('clip-path', 'url(#main-clip-path-small)');\n\n        const gridGroup = mainGroup.append('g').attr('class', 'grid-lines').attr('clip-path', 'url(#grid-clip-path');\n        const gridXGroup = gridGroup.append('g').attr('class', 'grid-x-lines');\n        const gridYGroup = gridGroup.append('g').attr('class', 'grid-y-lines');\n        // gridlines in x axis function\n        function make_x_gridlines() {\n            return d3.axisBottom(x)\n                .ticks(10)\n        }\n        function make_y_gridlines() {\n            return d3.axisLeft(y)\n        }\n\n        gridXGroup.attr('transform', 'translate(0, ' + height + ')').call(make_x_gridlines()\n            .tickSize(-height)\n            .tickFormat(\"\")\n        )\n\n        gridYGroup.attr('transform', 'translate(' + this.relativeWidth(margin.left) + ', 0)').call(make_y_gridlines()\n            .tickSize(-width)\n            .tickFormat(\"\")\n        )\n\n        console.log(newData)\n        //  line until now\n        linesGroup.append(\"path\").datum(newData)\n            .attr(\"fill\", \"none\")\n            .attr('class', 'now-path')\n            .attr(\"stroke\", \"white\")\n            .attr(\"stroke-width\", '0.4px')\n            .attr(\"d\", d3.line().curve(d3.curveCardinal)\n                .x(d => x(d.date))\n                .y(function (d) { return y(d.value) })\n            );\n\n\n        this.setState({ data: totalData, mainGroup: mainGroup, linesGroup: linesGroup, margin: margin, y: y, x: x, svg: svg, gridYGroup: gridYGroup });\n    }\n\n    //  Takes a % ang returns the right height\n    relativeHeight = (height) => {\n        return this.state.width < this.state.height ? height * this.state.height / this.state.width : height;\n    }\n\n    //  Takes a % ang returns the right width\n    relativeWidth = (width) => {\n        return this.state.width < this.state.height ? width : width * this.state.width / this.state.height;\n    }\n\n    drawHistoryPoints = () => {\n        const pointsGroup = this.state.mainGroup.append('g').attr('class', 'points-group');\n        const firstPointGroup = pointsGroup.append('g').attr('class', 'first-points-group').attr('transform', 'translate(' + this.state.x(d3.timeParse(\"%Y-%m-%d\")(this.state.data[this.state.data.length - 1].date)) + ', ' + this.state.y(this.state.data[this.state.data.length - 1].value) + ')');\n\n        firstPointGroup.append('circle').attr('class','point-circle').attr('cx', 0).attr('cy', 0).attr('fill', 'black').attr('r', 0).transition().duration(500).delay(2000).attr('r', 1);\n        firstPointGroup.append('rect').attr('x', -0.2).attr('y', -2).attr('width', 0.4).attr('height', 0).attr('fill', 'white').transition().duration(500).delay(2500).attr('height', 18).attr('y', -20);\n        firstPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', -18).text('2025').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(3000).attr('opacity', 1).attr('x', 1);\n        firstPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', -14).text('Mismanaged plastic').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(3500).attr('opacity', 1).attr('x', 1);\n        firstPointGroup.append('text').attr('fill', 'white').attr('x', 0).attr('y', -10.5).text('in the ocean forecast').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(3500).attr('opacity', 1).attr('x', 1).on('end', this.splitLines.bind(this, 0.0115));\n\n        // this.splitLines(0.001);\n    }\n\n    splitLines = (val) => {\n\n        const x = this.state.x;\n        const y = this.state.y;\n\n        let subtractedValue = val;\n\n        const pathClone = this.state.mainGroup.select('.now-path').clone();\n        let currentBindedData = pathClone.datum();\n        currentBindedData[0].value2 = currentBindedData[0].value - subtractedValue;\n        currentBindedData[1].value2 = currentBindedData[1].value - subtractedValue;\n\n        console.log(currentBindedData)\n        pathClone.datum(currentBindedData).attr('class', 'path-clone').transition().duration(1000)\n            .attr('d', d3.line().curve(d3.curveMonotoneY)\n                .x(d => x(d.date))\n                .y(d => y(d.value2))\n            );\n\n        this.state.mainGroup.select('.now-path').transition().duration(1000)\n            .style('stroke', 'lightgrey')\n\n        var area = d3.area().curve(d3.curveMonotoneY)\n            .x(d => x(d.date))\n            .y0(d => y(d.value))\n            .y1(d => y(d.value2));\n\n        this.state.linesGroup.append('path')\n            .datum(currentBindedData)\n            .style('fill', 'white')\n            .style('fill-opacity', 0)\n            .style('stroke', 'none')\n            .attr('class', 'area')\n            .attr('d', area)\n            .transition().duration(1000).delay(1000)\n            .style('fill-opacity', 0.3);\n\n        const pointsGroup = this.state.mainGroup.select('.points-group');\n        this.state.mainGroup.select('.second-points-group').remove();\n        const secondPointGroup = pointsGroup.append('g').attr('class', 'second-points-group').attr('transform', 'translate(' + this.relativeWidth(50) + ', ' + this.relativeHeight(50) + ')');\n\n        secondPointGroup.append('circle').attr('class','point-circle').attr('cx', 0).attr('cy', 0).attr('fill', 'black').attr('r', 0).style('stroke', 'rgb(182, 182, 2)').transition().duration(500).delay(1000).attr('r', 1);\n        secondPointGroup.append('rect').attr('class', 'wasted-rect').attr('x', -0.2).attr('y', -2).attr('width', 0.4).attr('height', 0).attr('fill', 'rgb(182, 182, 2)').transition().duration(500).delay(1500).attr('height', 18).attr('y', -20);\n        secondPointGroup.append('text').attr('class', 'wasted-impact-text').attr('fill', 'rgb(182, 182, 2)').attr('x', 0).attr('y', -18).text('Your Impact').style('font-size', '4px').attr('opacity', 0).transition().duration(500).delay(2000).attr('opacity', 1).attr('x', 1);\n        secondPointGroup.append('text').attr('class', 'wasted-text').attr('fill', 'white').attr('x', 0).attr('y', -14).text((val * 1000) + 'kg not wasted').style('font-size', '3px').attr('opacity', 0).transition().duration(500).delay(2000).attr('opacity', 1).attr('x', 1);\n    }\n\n    subtractMore = (val, index) => {\n        const x = this.state.x;\n        const y = this.state.y;\n        \n\n        console.log(y.domain);\n        console.log(val)\n\n        let currentBindedData = this.state.mainGroup.select('.path-clone').datum();\n        currentBindedData[0].value2 = currentBindedData[0].value2 - val;\n        currentBindedData[1].value2 = currentBindedData[1].value2 - val;\n        console.log(currentBindedData)\n\n        y.domain([currentBindedData[1].value2 - (val * 3), currentBindedData[1].value + (4 * val)])\n\n        if (index === 2) {\n            y.domain([currentBindedData[1].value2 - (val), currentBindedData[1].value + (2 * val)])\n        }\n        this.state.mainGroup.select('.graph-axis-y').transition().duration(1000)\n            .call(d3.axisLeft(y).tickSize(0).ticks(3));\n\n        this.state.gridYGroup.transition().duration(1000).call(d3.axisLeft(y)\n        .tickSize(-this.state.width)\n        .tickFormat(\"\")\n        )\n\n        this.state.mainGroup.select('.now-path').transition().duration(1000).attr(\"d\", d3.line().curve(d3.curveCardinal)\n        .x(d => x(d.date))\n        .y(function (d) { return y(d.value) })\n        );\n\n        this.state.mainGroup.select('.first-points-group').transition().duration(1000).attr('transform', 'translate(' + x(d3.timeParse(\"%Y-%m-%d\")(this.state.data[this.state.data.length - 1].date)) + ', ' + y(this.state.data[this.state.data.length - 1].value) + ')');\n\n            this.state.mainGroup.select('.wasted-text').text((val * 1000) + 'kg not wasted');\n\n        this.state.mainGroup.select('.path-clone').transition().duration(1000)\n        .attr('d', d3.line().curve(d3.curveMonotoneY)\n        .x(d => x(d.date))\n        .y(d => y(d.value2)));\n\n        var area = d3.area().curve(d3.curveMonotoneY)\n        .x(d => x(d.date))\n        .y0(d => y(d.value))\n        .y1(d => y(d.value2));\n\n        this.state.mainGroup.select('.area')\n        .transition().duration(1000)\n        .attr('d', area)\n        .transition().duration(1000).delay(1000)\n        .style('fill-opacity', 0.3);\n    }\n\n\n}\n\nexport default GraphZoom;","import React from 'react'\n\nclass Controller extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      reuseStatus: 'active',\n      friendStatus: 'lock',\n      fnfStatus: 'lock'\n    };\n    this.handleClickReuse = this.handleClickReuse.bind(this);\n    this.handleClickFriend = this.handleClickFriend.bind(this);\n    this.handleClickFnf = this.handleClickFnf.bind(this);\n  }\n\n  handleClickReuse() {\n    console.log('click reuse');\n    if (this.state.reuseStatus === 'active') {\n      setTimeout(() => this.setState({ friendStatus: 'active' }), 6500)\n      this.setState({\n        reuseStatus: 'complete',\n      }, this.props.handleClick('reuse'))\n    } else { return null; }\n  }\n  handleClickFriend() {\n    if (this.state.friendStatus === 'active') {\n      setTimeout(() => this.setState({ fnfStatus: 'active' }), 1500)\n      this.setState({\n        friendStatus: 'complete',\n      }, this.props.handleClick('friend'))\n    } else { return null; }\n  }\n  handleClickFnf() {\n    if (this.state.fnfStatus === 'active') {\n      this.setState({\n        fnfStatus: 'complete',\n      }, this.props.handleClick('fnf'))\n    } else { return null; }\n  }\n  render() {\n    return (\n      <React.Fragment>\n        {/* <div className=\"main-title\">Three actions to change the future of plastic in the ocean</div> */}\n        <div className=\"main-subtitle\">Click to see the effect of your actions</div>\n        <ul className=\"progress-indicator stepped stacked\">\n          <li className={this.state.reuseStatus}>\n            <span onClick={this.handleClickReuse} className=\"bubble reuse\"></span>\n            <div className=\"stacked-text\">\n              <div className='title'>1. Using Reusable Packaging</div>\n              <div className='content'>Try to not use single-use plastic packaging in your daily life.</div>\n            </div>\n          </li>\n          <li className={this.state.friendStatus}>\n            <span onClick={this.handleClickFriend} className=\"bubble friend\"></span>\n            <div className=\"stacked-text\">\n              <div className='title'>2. Share the idea with friends</div>\n              <div className='content'>You're using less plastic packaging now, the next step is persuading your frineds also use reusable packaging.</div>\n            </div>\n          </li>\n          <li className={this.state.fnfStatus}>\n            <span onClick={this.handleClickFnf} className=\"bubble fnf\"></span>\n            <div className=\"stacked-text\">\n              <div className='title'>3. Communication</div>\n              <div className='content'>Try to share this idea to more people. You can write blogs, make some videos, post on social media, and help your frind to share the idea to their friends easily.</div>\n            </div>\n          </li>\n        </ul>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Controller;\n","import React, { Component } from 'react';\nimport Graph from './Graph';\nimport GraphZoom from './GraphZoom';\nimport Controller from './Controller';\n\nclass AppContainer extends Component {\n\n    state = {\n        showZoomedGraph: false,\n        clickedFriend: false,\n        clickedFnf: false\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <Controller handleClick={this.handleClick}/>\n                <div className='chart-container'>\n                    <Graph id={1} showZoomedGraph={this.state.showZoomedGraph}></Graph>\n                    <GraphZoom id={2} className=\"graph-zoom\" showZoomedGraph={this.state.showZoomedGraph} clickedFriend={this.state.clickedFriend} clickedFnf={this.state.clickedFnf}></GraphZoom>\n                </div>\n                <span></span>\n                <div className='footer'>\n                  @2019 Made by <span onClick={()=> window.open(\"https://www.guillaumemeigniez.me\", \"_blank\")} className='author'>Guillaume</span> and <span onClick={()=> window.open(\"https://www.linkedin.com/in/zachchang/\", \"_blank\")} className='author'>Zach</span>\n                  <div>Icons made by <a href=\"https://www.freepik.com/\" title=\"Freepik\">Freepik</a> and <a href=\"https://www.flaticon.com/authors/prosymbols\" title=\"Prosymbols\">Prosymbols</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a> is licensed by <a href=\"http://creativecommons.org/licenses/by/3.0/\" title=\"Creative Commons BY 3.0\" target=\"_blank\">CC 3.0 BY</a></div>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    handleClick = (type) => {\n        if (!this.state.showZoomedGraph) {\n            this.setState({showZoomedGraph: true});\n        }\n        if (type === 'friend') {\n            this.setState({clickedFriend: true});\n        }\n        if (type === 'fnf') {\n            this.setState({clickedFnf: true});\n        }\n    }\n}\n\nexport default AppContainer;\n","import React from 'react';\nimport './scss/App.scss';\nimport AppContainer from './components/AppContainer';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n        <AppContainer></AppContainer>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}